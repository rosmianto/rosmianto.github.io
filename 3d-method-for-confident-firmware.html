<!DOCTYPE html><html lang="en-us" data-theme="green-gray"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>3D Method for Confident Firmware - Captain Embedded üë®üèª‚Äç‚úàÔ∏è‚öì</title><meta name="description" content="Sometimes you just feel that your firmware isn't robust enough, isn't reliable enough. What if my firmware isn't handling edge cases very well? First of all, I admire your concerns, because if you really think that way, that means you have a high standard when it comes to firmware development,&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><script defer="defer" type="text/javascript" data-domain="rosmianto.com" src="https://view.rosmianto.com/js/script.outbound-links.tagged-events.js"></script><script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script><link rel="stylesheet" href="https://rosmianto.com/media/plugins/syntaxHighlighter/prism-gray.css"><link rel="stylesheet" href="https://rosmianto.com/media/plugins/syntaxHighlighter/prism-inline-color.css"><link rel="canonical" href="https://rosmianto.com/3d-method-for-confident-firmware.html"><meta property="og:title" content="3D Method for Confident Firmware"><meta property="og:image" content="https://rosmianto.com/media/posts/13/fwguide-2.webp"><meta property="og:image:width" content="2200"><meta property="og:image:height" content="1790"><meta property="og:site_name" content="Captain Embedded üë®üèª‚Äç‚úàÔ∏è‚öì"><meta property="og:description" content="Sometimes you just feel that your firmware isn't robust enough, isn't reliable enough. What if my firmware isn't handling edge cases very well? First of all, I admire your concerns, because if you really think that way, that means you have a high standard when it comes to firmware development,&hellip;"><meta property="og:url" content="https://rosmianto.com/3d-method-for-confident-firmware.html"><meta property="og:type" content="article"><link rel="alternate" type="application/atom+xml" href="https://rosmianto.com/feed.xml"><link rel="alternate" type="application/json" href="https://rosmianto.com/feed.json"><link rel="preload" href="https://rosmianto.com/assets/dynamic/fonts/lora/lora.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://rosmianto.com/assets/dynamic/fonts/lora/lora-italic.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://rosmianto.com/assets/css/style.css?v=306817db79d51e04a1e9a5621658ebe7"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://rosmianto.com/3d-method-for-confident-firmware.html"},"headline":"3D Method for Confident Firmware","datePublished":"2024-03-18T21:45+07:00","dateModified":"2024-03-19T13:14+07:00","image":{"@type":"ImageObject","url":"https://rosmianto.com/media/posts/13/fwguide-2.webp","height":1790,"width":2200},"description":"Sometimes you just feel that your firmware isn't robust enough, isn't reliable enough. What if my firmware isn't handling edge cases very well? First of all, I admire your concerns, because if you really think that way, that means you have a high standard when it comes to firmware development,&hellip;","author":{"@type":"Person","name":"Rosmianto A. Saputro","url":"https://rosmianto.com/authors/rosmianto-a-saputro/"},"publisher":{"@type":"Organization","name":"Rosmianto A. Saputro"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><header class="header" id="js-header"><div><a class="logo" href="https://rosmianto.com/">Captain Embedded üë®üèª‚Äç‚úàÔ∏è‚öì</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://rosmianto.com/authors/rosmianto-a-saputro/" target="_self">Articles</a></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">Products (NEW üî•)</span><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://freelancer.rosmianto.com/" target="_self">Becoming Embedded Freelancer</a></li><li><a href="https://fwguide.rosmianto.com" target="_blank">Firmware Development Guide</a></li></ul></li><li><a href="https://newsletter.rosmianto.com" target="_blank">Newsletter</a></li><li><a href="https://www.linkedin.com/in/rosmianto/" target="_blank">LinkedIn</a></li></ul></nav></div></header><main class="post"><article class="content"><header class="content__inner content__header--centered"><h1 class="h0 content__title">3D Method for Confident Firmware</h1><div class="content__meta"><div class="content__meta__author"><img src="https://rosmianto.com/media/website/Untitled-Diagram.jpg" loading="eager" height="1700" width="1700" class="content__avatar" alt="Rosmianto A. Saputro"><div><a href="https://rosmianto.com/authors/rosmianto-a-saputro/" class="content__author">Rosmianto A. Saputro</a> <time datetime="2024-03-18T21:45" class="content__date">March 18, 2024</time></div></div></div></header><div class="content__body"><div class="content__inner"><div class="content__entry"><p>Sometimes you just feel that your firmware isn't robust enough, isn't reliable enough. What if my firmware isn't handling edge cases very well?</p><p>First of all, I admire your concerns, because if you really think that way, that means you have a high standard when it comes to firmware development, really.</p><p>Because the majority of embedded engineers aren't even aware that their firmware should be robust and reliable. For them, as long as the firmware isn't crashing after 5 minutes of running, it's good and they move on to implement the next cool things.</p><p>That's very wrong on so many levels.</p><p>The firmware should be well-tested and you should understand every line of code you've written. The firmware should meet the requirements, and pass the performance threshold. For me, such firmware is called <em><strong>confident firmware</strong></em>.</p><p>You can be reasonably confident that your work is good enough to survive common scenarios and some special edge cases. Make no mistake, because confident firmware isn't equal to bug-free firmware. But whenever the firmware has bugs, you can <a href="https://rosmianto.com/git-backtracking-debugging-technique.html" target="_blank" rel="noopener noreferrer">confidently pinpoint</a> the root cause and immediately fix the issue.</p><p>The unsure feeling you have can be eliminated (or at least reduced) when you know everything about the firmware you develop, this is including:</p><ol><li>how each module interacts with the others</li><li>how each module has been tested</li><li>how each module is written</li></ol><p>That's why I call my method as <strong>3D Method: Draw, Dissect, Detect</strong>.</p><h1>3D: Draw, Dissect, Detect</h1><p>Now, let's delve into each step:</p><h2>Draw</h2><p>Every great software should have at least one diagram to explain the interaction between modules.</p><p>Humans, by nature, cannot comprehend chaos and complexity. That's why we invented maps to navigate the road, that's why we created organizational diagrams to show who is responsible for what.</p><p>In other words, we create abstraction to help ourselves manage chaos and complexity.</p><p>When it comes to firmware development, that means we draw firmware architecture diagrams, program flow diagrams, and hardware design diagrams. In my <a href="https://fwguide.rosmianto.com/" target="_blank" rel="noopener noreferrer">paid firmware development guide</a>, I explain more deeply how you can draw diagram for your embedded project. Here's an example of a firmware architecture diagram I've drawn for the guide:</p><figure><figure class="post__image post__image--center"><img loading="lazy" src="https://rosmianto.com/media/posts/13/fwguide.webp" alt="" width="700" height="570" sizes="(max-width: 1200px) 100vw, 1200px" srcset="https://rosmianto.com/media/posts/13/responsive/fwguide-xs.webp 300w, https://rosmianto.com/media/posts/13/responsive/fwguide-sm.webp 480w, https://rosmianto.com/media/posts/13/responsive/fwguide-md.webp 768w, https://rosmianto.com/media/posts/13/responsive/fwguide-xl.webp 1200w"></figure><figcaption>Architecture diagram will help you navigate your firmware complexity (fwguide.rosmianto.com)</figcaption></figure><p>If you mastered the Draw step, you will be far more confident in your firmware design. You know which parts will do A, which part will do B, etc. Even if your project has bugs, you will immediately know where to look.</p><h2>Dissect</h2><p>Dissecting your code, or reviewing your code, is a sure way to make sure the firmware will work as intended. Sometimes you can do it alone, or you can ask your senior or even junior engineers to help dissect/review your code. Because as Linus Torvalds said:</p><blockquote><p>given enough eyeballs, all bugs are shallow</p><p>Linus's Law</p></blockquote><p>Yes, the more reviews, the more bugs can be discovered earlier.</p><p>If you think reviewing code is a tedious process, you are right, but you are also a bit wrong. Because I didn't say only humans can review your code. Sometimes robots (aka software) can help you catch silly mistakes here and there.</p><p>A good example of this robot is <a href="https://clang-analyzer.llvm.org/" target="_blank" rel="noopener noreferrer">static analyzer</a>. It's software that scans your entire firmware code to find some potential issues, sometimes it spits false-positive issues, but often it catches serious mistakes (like vulnerabilities or semantical errors).</p><p>So, use both humans and robots to maximize <span style="text-decoration: line-through;">profit</span> confidence.</p><h2>Detect</h2><p>Detect problems by testing your firmware code.</p><p>This can be achieved by writing unit tests, where you test each module with a set of inputs and expect certain outputs.</p><p>Testing can be automated. In fact, code testing should be automated. You can achieve this by using automation tools like GitHub Actions, so whenever you push changes to GitHub, it will automatically rerun the tests you've written, and report the result.</p><p>I recommend you to use <a href="https://github.com/catchorg/Catch2" target="_blank" rel="noopener noreferrer">Catch2</a>, because it is simple enough and easy enough to get started. Combine it with CMake and GitHub Actions, your life will be far easier. I cover this much deeper in my <a href="https://fwguide.rosmianto.com/" target="_blank" rel="noopener noreferrer">paid firmware guide</a>, I also give you a demo to setup GitHub Actions.</p><h1>Summary</h1><p>That's all to know. To make yourself more confident in your firmware, implement my 3D Method above and you will finally sleep better tonight.</p><p>Just remember that confidence doesn't guarantee bug-free, you still need to check and hunt for bugs. But at least, when you are confident, you can locate the issues much faster.</p></div><footer class="content__footer"><div class="content__updated">Updated: <time datetime="2024-03-19T13:14">March 19, 2024</time></div><div class="content__tag"><span>Tags:</span><ul class="content__tag__list"><li><a href="https://rosmianto.com/tags/embedded-productivity/" title="Embedded Productivity">Embedded Productivity</a></li></ul></div><div class="content__meta"><div class="content__meta__share"><h3>Share this:</h3></div></div></footer></div></div></article><div class="section content__related"><div class="wrapper"><h3 class="h4 section__title">You may also like:</h3><div class="card-container card-container--col4"><article class="card"><div class="card__content"><h2 class="card__title"><a href="https://rosmianto.com/2-tips-for-improving-your-firmware.html" class="invert">2 Tips for Improving Your Firmware</a></h2><p>Josh is having a very bad day at...</p><footer class="card__footer"><time datetime="2024-03-25T10:12">March 25, 2024 </time><a href="https://getpocket.com/save?url=https%3A%2F%2Frosmianto.com%2F2-tips-for-improving-your-firmware.html&title=2%20Tips%20for%20Improving%20Your%20Firmware" class="btn btn--clean card__readlater js-share" aria-label="Read later"><svg><use xlink:href="https://rosmianto.com/assets/svg/svg-map.svg#readlater"/></svg></a></footer></div></article><article class="card"><div class="card__content"><h2 class="card__title"><a href="https://rosmianto.com/2-rule-method-for-experimental-projects.html" class="invert">2-Rule Method for Experimental Projects</a></h2><p>The simplest way to 10x your embedded learning...</p><footer class="card__footer"><time datetime="2024-03-20T09:03">March 20, 2024 </time><a href="https://getpocket.com/save?url=https%3A%2F%2Frosmianto.com%2F2-rule-method-for-experimental-projects.html&title=2-Rule%20Method%20for%20Experimental%20Projects" class="btn btn--clean card__readlater js-share" aria-label="Read later"><svg><use xlink:href="https://rosmianto.com/assets/svg/svg-map.svg#readlater"/></svg></a></footer></div></article><article class="card"><div class="card__content"><h2 class="card__title"><a href="https://rosmianto.com/the-friday-firmware-newsletter.html" class="invert">The Friday Firmware Newsletter</a></h2><p>Every Friday, I share embedded tips and tricks,...</p><footer class="card__footer"><time datetime="2024-02-09T14:44">February 9, 2024 </time><a href="https://getpocket.com/save?url=https%3A%2F%2Frosmianto.com%2Fthe-friday-firmware-newsletter.html&title=The%20Friday%20Firmware%20Newsletter" class="btn btn--clean card__readlater js-share" aria-label="Read later"><svg><use xlink:href="https://rosmianto.com/assets/svg/svg-map.svg#readlater"/></svg></a></footer></div></article></div></div></div></main><footer class="footer section section--lightest"><div class="footer__inner"><a class="logo footer__logo" href="https://rosmianto.com/">Captain Embedded üë®üèª‚Äç‚úàÔ∏è‚öì</a><div class="footer__copyright"><p>Powered by Publii</p></div></div><button class="footer__bttop js-scroll-to-top" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://rosmianto.com/assets/svg/svg-map.svg#toparrow"/></svg></button></footer><script defer="defer" src="https://rosmianto.com/assets/js/scripts.min.js?v=8680a80b5605dca08d4eef4416e29e9f"></script><script>window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: true, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script><script defer="defer" src="https://rosmianto.com/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://rosmianto.com/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://rosmianto.com/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://rosmianto.com/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script><script defer="defer" src="https://rosmianto.com/media/plugins/syntaxHighlighter/prism-inline-color.min.js"></script></body></html>